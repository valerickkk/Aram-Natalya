<!doctype html>
<html lang="ru">

<head>
    <meta charset="utf-8" />
    <link rel="stylesheet" href="style.css">
    <title>–ü—Ä–∏–≥–ª–∞—à–µ–Ω–∏–µ –Ω–∞ —Å–≤–∞–¥—å–±—É</title>
</head>

<script>
    document.addEventListener('DOMContentLoaded', () => {
        const form = document.getElementById('rsvpForm');

        form.addEventListener('submit', async (e) => {
            const name = document.getElementById('fullname').value;
            const attendEl = document.querySelector('input[name="attend"]:checked');
            const attend = attendEl ? attendEl.value : '';

            e.preventDefault();
            console.log(name)
            console.log(attendEl)

            if (!name || !attend) {
                alert('–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –∑–∞–ø–æ–ª–Ω–∏—Ç–µ –≤—Å–µ –ø–æ–ª—è.');
                return;
            }

            const res = await fetch('http://94.103.12.102:8080/rsvp', {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify({ name, attend })
            });

            const data = await res.json();
            if (data.success) {
                alert('–°–ø–∞—Å–∏–±–æ! –í–∞—à –æ—Ç–≤–µ—Ç –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω üíå');
                document.getElementById('rsvp-form').reset();
            } else {
                alert('–û—à–∏–±–∫–∞: ' + data.error);
            }
        });
    });
</script>

<body>
    <section class="hero">
        <div class="card" role="region" aria-label="–ü—Ä–∏–≥–ª–∞—à–µ–Ω–∏–µ –Ω–∞ —Å–≤–∞–¥—å–±—É">
            <div class="invitation">
                <h1>–î–æ—Ä–æ–≥–∏–µ –≥–æ—Å—Ç–∏!</h1>
                <p class="lead">–ú—ã —Ä–∞–¥—ã —Å–æ–æ–±—â–∏—Ç—å –í–∞–º, —á—Ç–æ</p>
                <h1>15.10.2025</h1>
                <p class="lead">—Å–æ—Å—Ç–æ–∏—Ç—Å—è –¥–æ–ª–≥–æ–∂–¥–∞–Ω–Ω–æ–µ —Å–æ–±—ã—Ç–∏–µ<br> - –Ω–∞—à–∞ —Å–≤–∞–¥—å–±–∞!</p>
                <p class="lead">–ò –º—ã –±—É–¥–µ–º –Ω–µ–≤–µ—Ä–æ—è—Ç–Ω–æ —Å—á–∞—Å—Ç–ª–∏–≤—ã,<br> –µ—Å–ª–∏ —ç—Ç—É —Ä–∞–¥–æ—Å—Ç—å<br> –≤—ã —Ä–∞–∑–¥–µ–ª–∏—Ç–µ —Å –Ω–∞–º–∏!</p>
            </div>

            <div class="event-info">
                <div class="event-column">
                    <img src="images/rings.png" alt="–ó–ê–ì–°" class="event-icon">
                    <span>–ó–ê–ì–°</span>
                    <h1>10:30</h1>
                </div>
                <div class="event-column">
                    <img src="images/church.png" alt="–í–µ–Ω—á–∞–Ω–∏–µ" class="event-icon">
                    <span>–í–µ–Ω—á–∞–Ω–∏–µ</span>
                    <h1>13:00</h1>
                </div>
                <div class="event-column">
                    <img src="images/glasses.png" alt="–ù–∞—á–∞–ª–æ —Ç–æ—Ä–∂–µ—Å—Ç–≤–∞" class="event-icon">
                    <span>–ù–∞—á–∞–ª–æ <br>—Ç–æ—Ä–∂–µ—Å—Ç–≤–∞</span>
                    <h1>16:00</h1>
                </div>
            </div>

            <div class="locations">
                <h1>–ê–¥—Ä–µ—Å–∞:</h1>
                <p class="lead">–ó–ê–ì–°</p>
                <p class="loc">–ú–æ—Å–∫–≤–∞, –ú–∞–ª—ã–π –•–∞—Ä–∏—Ç–æ–Ω—å–µ–≤—Å–∫–∏–π –ø–µ—Ä–µ—É–ª–æ–∫ 10,<br> —Å—Ç—Ä. 1, "–î–≤–æ—Ä–µ—Ü –ë—Ä–∞–∫–æ—Å–æ—á–µ—Ç–∞–Ω–∏—è 1"</p>
                <p class="lead">–¶–µ—Ä–∫–æ–≤—å</p>
                <p class="loc">–ú–æ—Å–∫–≤–∞, –û–ª–∏–º–ø–∏–π—Å–∫–∏–π –ø—Ä–æ—Å–ø–µ–∫—Ç 9</p>
                <p class="lead">–†–µ—Å—Ç–æ—Ä–∞–Ω</p>
                <p class="loc">–ú–æ—Å–∫–æ–≤—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å, –≥–æ—Ä–æ–¥—Å–∫–æ–π –æ–∫—Ä—É–≥ –ö—Ä–∞—Å–Ω–æ–≥–æ—Ä—Å–∫, –¥–µ—Ä–µ–≤–Ω—è –ü—É—Ç–∏–ª–∫–æ–≤–æ 11, —Å—Ç—Ä. 17</p>
            </div>

            <form class="rsvp" id="rsvpForm" autocomplete="off">
                <label class="field">
                    <span class="question">–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ —Å–≤–æ–µ –ø—Ä–∏—Å—É—Ç—Å—Ç–≤–∏–µ</span>
                </label>

                <label class="field">
                    <span>–ò–º—è –∏ —Ñ–∞–º–∏–ª–∏—è (–µ—Å–ª–∏ –≤—ã –Ω–µ –æ–¥–∏–Ω, –≤–≤–µ–¥–∏—Ç–µ –≤—Å–µ –∏–º–µ–Ω–∞)</span>
                    <input id="fullname" name="fullname" type="text" placeholder="–ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤" required />
                </label>

                <div>
                    <span class="note">–í—ã–±–µ—Ä–∏—Ç–µ –≤–∞—Ä–∏–∞–Ω—Ç:</span>
                    <div class="choices">
                        <label class="choice">
                            <input type="radio" name="attend" value="–î–∞"/>
                            <div class="box"></div>
                            <span>–î–∞, –ø—Ä–∏–¥—É</span>
                        </label>

                        <label class="choice">
                            <input type="radio" name="attend" value="–ù–µ—Ç"/>
                            <div class="box"></div>
                            <span>–ù–µ—Ç, –Ω–µ —Å–º–æ–≥—É</span>
                        </label>
                    </div>
                </div>

                <div class="actions">
                    <button class="submit" type="submit">–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å</button>
                    <div class="status" id="status"></div>
                </div>
            </form>
        </div>
    </section>
</body>

</html>